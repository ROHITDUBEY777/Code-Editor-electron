<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self' 'unsafe-inline' https:;
             script-src 'self' https://unpkg.com 'unsafe-eval' 'unsafe-inline';
             style-src 'self' 'unsafe-inline' https:;"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Electron Code Editor</title>

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://unpkg.com/xterm/css/xterm.css" />

    <!-- Optional icons (for folder/file icons like VS Code) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>

  <body>
    <div id="toolbar">
      <button id="newBtn">New</button>
      <button id="openBtn">Open</button>
      <button id="openFolderBtn">Open Folder</button>
      <button id="openBrowserBtn">Browser</button>
      <button id="saveBtn">Save</button>
      <button id="saveAsBtn">Save As</button>
      <span id="filePath" class="muted">(untitled)</span>
    </div>

    <div id="layout">
      <div id="top">
        <!-- Sidebar (File Explorer) -->
        <div id="sidebar">
          <div class="sidebar-header">EXPLORER</div>

          <div id="fileTree">
            <!-- Sample structure (will be filled dynamically by your Electron renderer.js) -->
            <div class="tree-node directory open">
              <div class="node-label directory">
                
              </div>
          
            </div>
          </div>

        </div>

        <!-- Main editor section -->
        <div id="main">
          <div id="tabs"></div>
          <div id="editor"></div>
        </div>
      </div>

      <!-- Terminal Panel (bottom, VS Code style) -->
      <div id="terminal-panel" class="hidden">
        <div id="terminal-toolbar">
          <button id="terminalToggle">Toggle Terminal</button>
          <!-- <button id="newTerminalBtn">New Terminal</button> -->
          <button id="terminalClearBtn">Clear</button>
          <button id="terminalCopyBtn">Copy</button>
          <form id="terminalForm">
            <input id="terminalInput" placeholder="Run command..." />
            <button id="terminalRunBtn">Run</button>
          </form>
          <!-- <span id="terminalStatus" class="muted">(no terminal)</span> -->
        </div>
        <div id="terminal-container"></div>
      </div>
    </div>
<!-- //Browser integration -->
       <div >
           <button onclick="toggleBrowser()">ToggleBrowser</button>
    <webview
        id="browser-container" 
        src="https:www.google.com"
        allowpopups
        style="width:40%; height:40%; ">
     
    </webview> 
</div>
    <!-- Scripts -->
    <script src="https://unpkg.com/monaco-editor@0.34.1/min/vs/loader.js"></script>
    <script src="https://unpkg.com/xterm/lib/xterm.js"></script>
    <script src="https://unpkg.com/xterm-addon-fit/lib/xterm-addon-fit.js"></script>
    <script src="renderer.js"></script>

    <!-- Explorer Toggle Logic -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".node-label.directory").forEach((dir) => {
          dir.addEventListener("click", () => {
            dir.parentElement.classList.toggle("open");
          });
        });
      });
    </script>
  </body>
</html>
